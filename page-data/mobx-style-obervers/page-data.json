{"componentChunkName":"component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js","path":"/mobx-style-obervers/","result":{"data":{"site":{"siteMetadata":{"title":"Swapnil Mishra","social":[{"name":"twitter","url":"https://twitter.com/swapnil_mishra"},{"name":"github","url":"https://github.com/swapnilmishra"}]}},"blogPost":{"__typename":"MdxBlogPost","id":"2074cba8-e88e-54c0-b35f-595e50f3b5f9","excerpt":"A very basic  MobX  style Observers. This is not even scratching the surface w.r.t the actual library as there are so many other things…","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Mobx style observers\",\n  \"date\": \"2017-02-03\",\n  \"layout\": \"post\",\n  \"path\": \"/mobx-style-observers/\",\n  \"category\": \"Javascript\",\n  \"description\": \"A very basic MobX style Observer\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"A very basic \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/mobxjs/mobx\"\n  }), \"MobX\"), \" style Observers. This is not even scratching the surface w.r.t the actual library as there are so many other things involved in building the whole thing.\"), mdx(\"p\", null, \"This is to just give an idea on how things work in data binding libraries.\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://jsbin.com/xiciqa/edit?html,js,console\"\n  }), \"JSbin\"), \" link for the code.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const SwapX = {\\n  /*\\n  ** This function receives all the properties which need to be observed for changes.\\n  ** It just wraps all the properties with setter and getter function so that we have\\n  ** control over it.\\n  ** Now whenver a property is modified we check if the value is same or not.\\n  ** If the value is same we don't do anything, if the value is changed we call autorun function.\\n  */\\n  observable : function observable(props){\\n    const _parent = this;\\n    let obj = {}, prop;\\n    const keys = Object.keys(props)\\n    for(let i=0; i < keys.length; i++){\\n       prop = keys[i];\\n       (function (prop){\\n         Object.defineProperty(obj,prop,{\\n          get: function(){\\n            return (this.value || props[prop] )\\n          },\\n          set: function(value){\\n            if(value !== this.value){\\n              this.value = value;\\n              _parent.markDirty(prop)\\n              _parent.run()\\n            }\\n          }\\n         })\\n       })(prop)\\n    }\\n    return obj\\n  },\\n  \\n  dirty : [], // holds the properties which got modified\\n  \\n  // autorun gets called whenever a property is modified\\n  autorun : function (callback){\\n    this.run = callback;\\n  },\\n\\n  // gets called to mark a property dirty\\n  markDirty(prop) {\\n    this.dirty.push(prop)\\n  }\\n}\\n\\nconst appState = SwapX.observable({\\n  count : 2,\\n  name : 'Swapnil'\\n})\\n\\nSwapX.autorun(function(){\\n  console.log('Changed properties',SwapX.dirty)\\n})\\n\")), mdx(\"p\", null, \"This code right now works for object where values are primitive, to make it work for reference type we will to write few wrappers so that can detect their change. e.g wrapper for array so that when a value is pushed in an array through the wrapper function we can invoke autorun.\"));\n}\n;\nMDXContent.isMDXComponent = true;","slug":"/mobx-style-obervers/","title":"Mobx style observers","tags":[],"keywords":[],"date":"February 03, 2017","image":null,"imageAlt":null,"socialImage":null},"previous":{"__typename":"MdxBlogPost","id":"05868783-997d-5516-906b-6e807fdc5733","excerpt":"We often use  _.get()  function to safely retreive the properties inside deeply nested objects. I have seen codebases where underscore was…","slug":"/underscore-get/","title":"Coding underscore get","date":"January 30, 2017"},"next":{"__typename":"MdxBlogPost","id":"0b5dfd37-f261-5009-8b84-179a6cd686d6","excerpt":"We often use  _.get()  function to safely retreive the properties inside deeply nested objects. I have seen codebases where underscore was…","slug":"/better-mocking-with-service-workers/","title":"Better mocking with service workers","date":"July 03, 2020"}},"pageContext":{"id":"2074cba8-e88e-54c0-b35f-595e50f3b5f9","previousId":"05868783-997d-5516-906b-6e807fdc5733","nextId":"0b5dfd37-f261-5009-8b84-179a6cd686d6"}}}